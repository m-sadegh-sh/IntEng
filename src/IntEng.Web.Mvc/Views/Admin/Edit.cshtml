@using System.Globalization
@model Product
@using (Html.BeginRouteForm("Edit", FormMethod.Post))
{
    if (ViewBag.HasError) {
        @Html.ValidationSummary(null, new { @class = "error" })
    }
    <div class="frm box-content search">
        @Html.Hidden("returnUrl", (object)ViewBag.ReturnUrl)
        @Html.HiddenFor(model => model.Id)
        <div>
            @Html.LabelFor(model => model.UnitPrice)
            @Html.TextBoxFor(model => model.UnitPrice, new { @class = "field" })
        </div>
        <div>
            @Html.LabelFor(model => model.Slug)
            @Html.TextBoxFor(model => model.Slug, new { @class = "field" })
        </div>
        <div>
            @Html.LabelFor(model => model.Name)
            @Html.TextBoxFor(model => model.Name, new { @class = "field" })
        </div>
        <div>
            @Html.LabelFor(model => model.Description)
            @Html.TextAreaFor(model => model.Description, new { @class = "field huge" })
        </div>
        <div>
            @Html.LabelFor(model => model.CategoryId)
            @Html.DropDownListFor(model => model.CategoryId, IntEngDataSource.GetAllCategories().Select(c => new SelectListItem { Text = c.Name, Value = c.Id.ToString(CultureInfo.InvariantCulture), Selected = Model.CategoryId == c.Id }), new { @class = "field" })
        </div>
        <div>
            <input type="submit" class="search-submit" value="ذخیره تغییرات" />
            <a href="/admin">لغو</a>
        </div>
    </div>
}
